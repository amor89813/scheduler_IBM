/**
* adageMegamenu
* 8.17.2012
*/
(function (e) { e.fn.extend({ adageMegamenu: function (t) { var n = { container: e(this).parent(), effect: "slide", duration: "400", easing: "linear", hoverIntent: true, hoverIntentDelay: 50 }; var r = typeof Modernizr.touch != "undefined" ? Modernizr.touch : false; var t = e.extend(n, t); return this.each(function () { function a() { if (e(".mm-state-active").length) { e(s).children(".mm-nav-item").each(function () { var t = e(this).index() + 1; if (e(this).hasClass("mm-state-active")) c(e(o).children(".mm-submenu:nth-child(" + t + ")")); else h(e(o).children(".mm-submenu:nth-child(" + t + ")")) }) } else { l() } } function f() { if (n.effect == "slide") e(".mm-panel").slideDown(n.duration, n.easing); else if (n.effect == "fade") e(".mm-panel").fadeIn(n.duration, n.easing); else e(".mm-panel").show() } function l() { if (n.effect == "slide") e(".mm-panel").slideUp(n.duration, n.easing); else if (n.effect == "fade") e(".mm-panel").fadeOut(n.duration, n.easing); else e(".mm-panel").hide() } function c(t) { if (e(t).is(":not(:empty)")) { e(t).show(); if (!e(".mm-panel:visible").length) f() } else { l() } } function h(t) { e(t).hide(); if (e(".mm-panel:visible").length == 0) l() } function p(t) { e(".mm-state-active").removeClass("mm-state-active"); t.addClass("mm-state-active"); a() } function d() { var t = e(this).data("clickNum"); if (!t) { e(this).data("clickNum", t + 1); p(e(this)); return false } } function v() { return } var n = t; var i = e(this); e(i).addClass("mm-root"); var s = e(i).children("ul:nth-child(1)"); e(s).addClass("mm-nav"); e(s).children().addClass("mm-nav-item"); var o = e(i).children("*:nth-child(2)"); var u = e(s).children(".mm-nav-item"); e(o).addClass("mm-panel"); e(o).children().addClass("mm-submenu"); e(".mm-submenu").children().addClass("mm-column"); e(".mm-submenu").hide(); e(".mm-panel").hide(); if (r) { u.data("clickNum", 0).click(d) } else { if (n.hoverIntent) { u.hoverIntent({ over: function () { p(e(this)) }, out: v, interval: n.hoverIntentDelay }) } else { u.hover(function () { p(e(this)) }, v) } e(n.container).mouseleave(function () { l(); e(".mm-state-active").removeClass("mm-state-active") }) } }) } }) })(jQuery);


/**
* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne brian(at)cherne(dot)net
*/
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.bind('mouseenter',handleHover).bind('mouseleave',handleHover)}})(jQuery);


/**
 * jQuery Tools FLASHEMBED v1.2.7 - The missing UI library for the Web
 * A simple cross-browser way to embed swfs
 * http://jquerytools.org/demos/toolbox/flashembed/index.html
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 */
(function(){var a=document.all,b="http://www.adobe.com/go/getflashplayer",c=typeof jQuery=="function",d=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,e={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}});function f(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a,b){var c=[];for(var d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d]));return c}window.flashembed=function(a,b,c){typeof a=="string"&&(a=document.getElementById(a.replace("#","")));if(a){typeof b=="string"&&(b={src:b});return new j(a,f(f({},e),b),c)}};var h=f(window.flashembed,{conf:e,getVersion:function(){var a,b;try{b=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(c){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),b=a&&a.GetVariable("$version")}catch(e){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),b=a&&a.GetVariable("$version")}catch(f){}}}b=d.exec(b);return b?[b[1],b[3]]:[0,0]},asString:function(a){if(a===null||a===undefined)return null;var b=typeof a;b=="object"&&a.push&&(b="array");switch(b){case"string":a=a.replace(new RegExp("([\"\\\\])","g"),"\\$1"),a=a.replace(/^\s?(\d+\.?\d*)%/,"$1pct");return"\""+a+"\"";case"array":return"["+g(a,function(a){return h.asString(a)}).join(",")+"]";case"function":return"\"function()\"";case"object":var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push("\""+d+"\":"+h.asString(a[d]));return"{"+c.join(",")+"}"}return String(a).replace(/\s/g," ").replace(/\'/g,"\"")},getHTML:function(b,c){b=f({},b);var d="<object width=\""+b.width+"\" height=\""+b.height+"\" id=\""+b.id+"\" name=\""+b.id+"\"";b.cachebusting&&(b.src+=(b.src.indexOf("?")!=-1?"&":"?")+Math.random()),b.w3c||!a?d+=" data=\""+b.src+"\" type=\"application/x-shockwave-flash\"":d+=" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"",d+=">";if(b.w3c||a)d+="<param name=\"movie\" value=\""+b.src+"\" />";b.width=b.height=b.id=b.w3c=b.src=null,b.onFail=b.version=b.expressInstall=null;for(var e in b)b[e]&&(d+="<param name=\""+e+"\" value=\""+b[e]+"\" />");var g="";if(c){for(var i in c)if(c[i]){var j=c[i];g+=i+"="+encodeURIComponent(/function|object/.test(typeof j)?h.asString(j):j)+"&"}g=g.slice(0,-1),d+="<param name=\"flashvars\" value='"+g+"' />"}d+="</object>";return d},isSupported:function(a){return i[0]>a[0]||i[0]==a[0]&&i[1]>=a[1]}}),i=h.getVersion();function j(c,d,e){if(h.isSupported(d.version))c.innerHTML=h.getHTML(d,e);else if(d.expressInstall&&h.isSupported([6,65]))c.innerHTML=h.getHTML(f(d,{src:d.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else{c.innerHTML.replace(/\s/g,"")||(c.innerHTML="<h2>Flash version "+d.version+" or greater is required</h2><h3>"+(i[0]>0?"Your version is "+i:"You have no flash plugin installed")+"</h3>"+(c.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+b+"'>here</a></p>"),c.tagName=="A"&&(c.onclick=function(){location.href=b}));if(d.onFail){var g=d.onFail.call(this);typeof g=="string"&&(c.innerHTML=g)}}a&&(window[d.id]=document.getElementById(d.id)),f(this,{getRoot:function(){return c},getOptions:function(){return d},getConf:function(){return e},getApi:function(){return c.firstChild}})}c&&(jQuery.tools=jQuery.tools||{version:"v1.2.7"},jQuery.tools.flashembed={conf:e},jQuery.fn.flashembed=function(a,b){return this.each(function(){jQuery(this).data("flashembed",flashembed(this,a,b))})})})();


/**
* Uniform v2.0.0
* Copyright Â© 2009 Josh Pyles / Pixelmatrix Design LLC
* http://pixelmatrixdesign.com
* Requires jQuery 1.3 or newer
* License: MIT License - http://www.opensource.org/licenses/mit-license.php
*/
(function (e, t) { "use strict"; function n(e) { var t = Array.prototype.slice.call(arguments, 1); return e.prop ? e.prop.apply(e, t) : e.attr.apply(e, t) } function s(e, t, n) { var s, a; for (s in n) n.hasOwnProperty(s) && (a = s.replace(/ |$/g, t.eventNamespace), e.bind(s, n[s])) } function a(e, t, n) { s(e, n, { focus: function () { t.addClass(n.focusClass) }, blur: function () { t.removeClass(n.focusClass), t.removeClass(n.activeClass) }, mouseenter: function () { t.addClass(n.hoverClass) }, mouseleave: function () { t.removeClass(n.hoverClass), t.removeClass(n.activeClass) }, "mousedown touchbegin": function () { e.is(":disabled") || t.addClass(n.activeClass) }, "mouseup touchend": function () { t.removeClass(n.activeClass) } }) } function i(e, t) { e.removeClass(t.hoverClass + " " + t.focusClass + " " + t.activeClass) } function r(e, t, n) { n ? e.addClass(t) : e.removeClass(t) } function o(e, t, n) { var s = "checked", a = t.is(":" + s); t.prop ? t.prop(s, a) : a ? t.attr(s, s) : t.removeAttr(s), r(e, n.checkedClass, a) } function l(e, t, n) { r(e, n.disabledClass, t.is(":disabled")) } function u(e, t, n) { switch (n) { case "after": return e.after(t), e.next(); case "before": return e.before(t), e.prev(); case "wrap": return e.wrap(t), e.parent() } return null } function c(t, s, a) { var i, r, o; return a || (a = {}), a = e.extend({ bind: {}, divClass: null, divWrap: "wrap", spanClass: null, spanHtml: null, spanWrap: "wrap" }, a), i = e("<div />"), r = e("<span />"), s.autoHide && t.is(":hidden") && "none" === t.css("display") && i.hide(), a.divClass && i.addClass(a.divClass), a.spanClass && r.addClass(a.spanClass), o = n(t, "id"), s.useID && o && n(i, "id", s.idPrefix + "-" + o), a.spanHtml && r.html(a.spanHtml), i = u(t, i, a.divWrap), r = u(t, r, a.spanWrap), l(i, t, s), { div: i, span: r} } function f() { var t, n, s, a; return a = "rgb(120,2,153)", n = e('<div style="width:0;height:0;color:' + a + '">'), e("body").append(n), s = n.get(0), t = window.getComputedStyle ? window.getComputedStyle(s, "").color : (s.currentStyle || s.style || {}).color, n.remove(), t.replace(/ /g, "") !== a } function d(t) { return t ? e("<span />").text(t).html() : "" } function m(e) { var t; return e[0].multiple ? !0 : (t = n(e, "size"), !t || 1 >= t ? !1 : !0) } function p() { return !1 } function v(e, t) { var n = "none"; s(e, t, { "selectstart dragstart mousedown": p }), e.css({ MozUserSelect: n, msUserSelect: n, webkitUserSelect: n, userSelect: n }) } function h(e, t, n) { var s = e.val(); "" === s ? s = n.fileDefaultHtml : (s = s.split(/[\/\\]+/), s = s[s.length - 1]), t.text(s) } function C(e, t, n) { var s, a; for (s = [], e.each(function () { var e; for (e in t) Object.prototype.hasOwnProperty.call(t, e) && (s.push({ el: this, name: e, old: this.style[e] }), this.style[e] = t[e]) }), n(); s.length; ) a = s.pop(), a.el.style[a.name] = a.old } function b(e, t) { C(e.parents().andSelf().not(":visible"), { visibility: "hidden", display: "block", position: "absolute" }, t) } function w(e, t) { return function () { e.unwrap().unwrap().unbind(t.eventNamespace) } } var y = !0, g = !1, k = [{ match: function (e) { return e.is("a, button, :submit, :reset, input[type='button']") }, apply: function (e, t) { var r, o, u, f, m; return o = t.submitDefaultHtml, e.is(":reset") && (o = t.resetDefaultHtml), f = e.is("a, button") ? function () { return e.html() || o } : function () { return d(n(e, "value")) || o }, u = c(e, t, { divClass: t.buttonClass, spanHtml: f() }), r = u.div, a(e, r, t), m = !1, s(r, t, { "click touchend": function () { var t, s, a, i; m || (m = !0, e[0].dispatchEvent ? (t = document.createEvent("MouseEvents"), t.initEvent("click", !0, !0), s = e[0].dispatchEvent(t), (jQuery.browser.msie || jQuery.browser.mozilla) && e.is("a") && s && (a = n(e, "target"), i = n(e, "href"), a && "_self" !== a ? window.open(i, a) : document.location.href = i)) : e.click(), m = !1) } }), v(r, t), { remove: function () { return r.after(e), r.remove(), e.unbind(t.eventNamespace), e }, update: function () { i(r, t), l(r, e, t), u.span.html(f()) } } } }, { match: function (e) { return e.is(":checkbox") }, apply: function (e, t) { var n, r, u; return n = c(e, t, { divClass: t.checkboxClass }), r = n.div, u = n.span, a(e, r, t), s(e, t, { "click touchend": function () { o(u, e, t) } }), o(u, e, t), { remove: w(e, t), update: function () { i(r, t), u.removeClass(t.checkedClass), o(u, e, t), l(r, e, t) } } } }, { match: function (e) { return e.is(":file") }, apply: function (t, r) { function o() { h(t, m, r) } var f, d, m, p; return f = c(t, r, { divClass: r.fileClass, spanClass: r.fileButtonClass, spanHtml: r.fileButtonHtml, spanWrap: "after" }), d = f.div, p = f.span, m = e("<span />").html(r.fileDefaultHtml), m.addClass(r.filenameClass), m = u(t, m, "after"), n(t, "size") || n(t, "size", d.width() / 10), a(t, d, r), o(), e.browser.msie ? s(t, r, { click: function () { t.trigger("change"), setTimeout(o, 0) } }) : s(t, r, { change: o }), v(m, r), v(p, r), { remove: function () { return m.remove(), p.remove(), t.unwrap().unbind(r.eventNamespace) }, update: function () { i(d, r), h(t, m, r), l(d, t, r) } } } }, { match: function (e) { if (e.is("input")) { var t = (" " + n(e, "type") + " ").toLowerCase(), s = " color date datetime datetime-local email month number password search tel text time url week "; return s.indexOf(t) >= 0 } return !1 }, apply: function (e) { var t = n(e, "type"); return e.addClass(t), { remove: function () { e.removeClass(t) }, update: p} } }, { match: function (e) { return e.is(":radio") }, apply: function (t, r) { var u, f, d; return u = c(t, r, { divClass: r.radioClass }), f = u.div, d = u.span, a(t, f, r), s(t, r, { "click touchend": function () { e.uniform.update(e(':radio[name="' + n(t, "name") + '"]')) } }), o(d, t, r), { remove: w(t, r), update: function () { i(f, r), o(d, t, r), l(f, t, r) } } } }, { match: function (e) { return e.is("select") && !m(e) ? !0 : !1 }, apply: function (t, n) { var r, o, u, f; return n.selectAutoWidth && b(t, function () { f = t.width() }), r = c(t, n, { divClass: n.selectClass, spanHtml: (t.find(":selected:first") || t.find("option:first")).html(), spanWrap: "before" }), o = r.div, u = r.span, n.selectAutoWidth ? b(t, function () { var e; e = u.outerWidth() - u.width(), o.width(f + e), u.width(f) }) : o.addClass("fixedWidth"), a(t, o, n), s(t, n, { change: function () { u.html(t.find(":selected").html()), o.removeClass(n.activeClass) }, "click touchend": function () { var e = t.find(":selected").html(); u.html() !== e && t.trigger("change") }, keyup: function () { u.html(t.find(":selected").html()) } }), v(u, n), { remove: function () { return u.remove(), t.unwrap().unbind(n.eventNamespace), t }, update: function () { n.selectAutoWidth ? (e.uniform.restore(t), t.uniform(n)) : (i(o, n), u.html(t.find(":selected").html()), l(o, t, n)) } } } }, { match: function (e) { return e.is("select") && m(e) ? !0 : !1 }, apply: function (e, t) { return e.addClass(t.selectMultiClass), { remove: function () { e.removeClass(t.selectMultiClass) }, update: p} } }, { match: function (e) { return e.is("textarea") }, apply: function (e, t) { return e.addClass(t.textareaClass), { remove: function () { e.removeClass(t.textareaClass) }, update: p} } }]; e.browser.msie && 7 > e.browser.version && (y = !1), e.uniform = { defaults: { activeClass: "active", autoHide: !0, buttonClass: "button", checkboxClass: "checker", checkedClass: "checked", disabledClass: "disabled", eventNamespace: ".uniform", fileButtonClass: "action", fileButtonHtml: "Choose File", fileClass: "uploader", fileDefaultHtml: "No file selected", filenameClass: "filename", focusClass: "focus", hoverClass: "hover", idPrefix: "uniform", radioClass: "radio", resetDefaultHtml: "Reset", resetSelector: !1, selectAutoWidth: !0, selectClass: "selector", selectMultiClass: "uniform-multiselect", submitDefaultHtml: "Submit", textareaClass: "uniform", useID: !0 }, elements: [] }, e.fn.uniform = function (t) { var n = this; return t = e.extend({}, e.uniform.defaults, t), g || (g = !0, f() && (y = !1)), y ? (t.resetSelector && e(t.resetSelector).mouseup(function () { window.setTimeout(function () { e.uniform.update(n) }, 10) }), this.each(function () { var n, s, a, i = e(this); if (i.data("uniformed")) return e.uniform.update(i), void 0; for (n = 0; k.length > n; n += 1) if (s = k[n], s.match(i, t)) return a = s.apply(i, t), i.data("uniformed", a), e.uniform.elements.push(i.get(0)), void 0 })) : this }, e.uniform.restore = e.fn.uniform.restore = function (n) { n === t && (n = e.uniform.elements), e(n).each(function () { var t, n, s = e(this); n = s.data("uniformed"), n && (n.remove(), t = e.inArray(this, e.uniform.elements), t >= 0 && e.uniform.elements.splice(t, 1), s.removeData("uniformed")) }) }, e.uniform.update = e.fn.uniform.update = function (n) { n === t && (n = e.uniform.elements), e(n).each(function () { var t, n = e(this); t = n.data("uniformed"), t && t.update(n, t.options) }) } })(jQuery);


/**
* Pixastic - JavaScript Image Processing Library 
* Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/ 
* MIT License [http://www.pixastic.com/lib/license.txt]
*/
var Pixastic = function () { function a(a, b, c) { if (a.addEventListener) a.addEventListener(b, c, false); else if (a.attachEvent) a.attachEvent("on" + b, c) } function b(b) { var c = false; var d = function () { if (!c) { c = true; b() } }; document.write("<" + 'script defer src="//:" id="__onload_ie_pixastic__"></' + "script>"); var e = document.getElementById("__onload_ie_pixastic__"); e.onreadystatechange = function () { if (e.readyState == "complete") { e.parentNode.removeChild(e); d() } }; if (document.addEventListener) document.addEventListener("DOMContentLoaded", d, false); a(window, "load", d) } function c() { var a = d("pixastic", null, "img"); var b = d("pixastic", null, "canvas"); var c = a.concat(b); for (var e = 0; e < c.length; e++) { (function () { var a = c[e]; var b = []; var d = a.className.split(" "); for (var f = 0; f < d.length; f++) { var g = d[f]; if (g.substring(0, 9) == "pixastic-") { var h = g.substring(9); if (h != "") b.push(h) } } if (b.length) { if (a.tagName.toLowerCase() == "img") { var j = new Image; j.src = a.src; if (j.complete) { for (var k = 0; k < b.length; k++) { var l = Pixastic.applyAction(a, a, b[k], null); if (l) a = l } } else { j.onload = function () { for (var c = 0; c < b.length; c++) { var d = Pixastic.applyAction(a, a, b[c], null); if (d) a = d } } } } else { setTimeout(function () { for (var c = 0; c < b.length; c++) { var d = Pixastic.applyAction(a, a, b[c], null); if (d) a = d } }, 1) } } })() } } function d(a, b, c) { var d = new Array; if (b == null) b = document; if (c == null) c = "*"; var e = b.getElementsByTagName(c); var f = e.length; var g = new RegExp("(^|\\s)" + a + "(\\s|$)"); for (i = 0, j = 0; i < f; i++) { if (g.test(e[i].className)) { d[j] = e[i]; j++ } } return d } function f(a, b) { if (!Pixastic.debug) return; try { switch (b) { case "warn": console.warn("Pixastic:", a); break; case "error": console.error("Pixastic:", a); break; default: console.log("Pixastic:", a) } } catch (c) { } if (!e) { } } if (typeof pixastic_parseonload != "undefined" && pixastic_parseonload) b(c); var e; var g = function () { var a = document.createElement("canvas"); var b = false; try { b = !!(typeof a.getContext == "function" && a.getContext("2d")) } catch (c) { } return function () { return b } } (); var h = function () { var a = document.createElement("canvas"); var b = false; var c; try { if (typeof a.getContext == "function" && (c = a.getContext("2d"))) { b = typeof c.getImageData == "function" } } catch (d) { } return function () { return b } } (); var k = function () { var a = false; var b = document.createElement("canvas"); if (g() && h()) { b.width = b.height = 1; var c = b.getContext("2d"); c.fillStyle = "rgb(255,0,0)"; c.fillRect(0, 0, 1, 1); var d = document.createElement("canvas"); d.width = d.height = 1; var e = d.getContext("2d"); e.fillStyle = "rgb(0,0,255)"; e.fillRect(0, 0, 1, 1); c.globalAlpha = .5; c.drawImage(d, 0, 0); var f = c.getImageData(0, 0, 1, 1).data; a = f[2] != 255 } return function () { return a } } (); return { parseOnLoad: false, debug: false, applyAction: function (a, b, c, d) { d = d || {}; var e = a.tagName.toLowerCase() == "canvas"; if (e && Pixastic.Client.isIE()) { if (Pixastic.debug) f("Tried to process a canvas element but browser is IE."); return false } var g, h; var i = false; if (Pixastic.Client.hasCanvas()) { i = !!d.resultCanvas; g = d.resultCanvas || document.createElement("canvas"); h = g.getContext("2d") } var j = a.offsetWidth; var k = a.offsetHeight; if (e) { j = a.width; k = a.height } if (j == 0 || k == 0) { if (a.parentNode == null) { var l = a.style.position; var m = a.style.left; a.style.position = "absolute"; a.style.left = "-9999px"; document.body.appendChild(a); j = a.offsetWidth; k = a.offsetHeight; document.body.removeChild(a); a.style.position = l; a.style.left = m } else { if (Pixastic.debug) f("Image has 0 width and/or height."); return } } if (c.indexOf("(") > -1) { var n = c; c = n.substr(0, n.indexOf("(")); var o = n.match(/\((.*?)\)/); if (o[1]) { o = o[1].split(";"); for (var p = 0; p < o.length; p++) { thisArg = o[p].split("="); if (thisArg.length == 2) { if (thisArg[0] == "rect") { var q = thisArg[1].split(","); d[thisArg[0]] = { left: parseInt(q[0], 10) || 0, top: parseInt(q[1], 10) || 0, width: parseInt(q[2], 10) || 0, height: parseInt(q[3], 10) || 0} } else { d[thisArg[0]] = thisArg[1] } } } } } if (!d.rect) { d.rect = { left: 0, top: 0, width: j, height: k} } else { d.rect.left = Math.round(d.rect.left); d.rect.top = Math.round(d.rect.top); d.rect.width = Math.round(d.rect.width); d.rect.height = Math.round(d.rect.height) } var r = false; if (Pixastic.Actions[c] && typeof Pixastic.Actions[c].process == "function") { r = true } if (!r) { if (Pixastic.debug) f('Invalid action "' + c + '". Maybe file not included?'); return false } if (!Pixastic.Actions[c].checkSupport()) { if (Pixastic.debug) f('Action "' + c + '" not supported by this browser.'); return false } if (Pixastic.Client.hasCanvas()) { if (g !== a) { g.width = j; g.height = k } if (!i) { g.style.width = j + "px"; g.style.height = k + "px" } h.drawImage(b, 0, 0, j, k); if (!a.__pixastic_org_image) { g.__pixastic_org_image = a; g.__pixastic_org_width = j; g.__pixastic_org_height = k } else { g.__pixastic_org_image = a.__pixastic_org_image; g.__pixastic_org_width = a.__pixastic_org_width; g.__pixastic_org_height = a.__pixastic_org_height } } else if (Pixastic.Client.isIE() && typeof a.__pixastic_org_style == "undefined") { a.__pixastic_org_style = a.style.cssText } var s = { image: a, canvas: g, width: j, height: k, useData: true, options: d }; var t = Pixastic.Actions[c].process(s); if (!t) { return false } if (Pixastic.Client.hasCanvas()) { if (s.useData) { if (Pixastic.Client.hasCanvasImageData()) { g.getContext("2d").putImageData(s.canvasData, d.rect.left, d.rect.top); g.getContext("2d").fillRect(0, 0, 0, 0) } } if (!d.leaveDOM) { g.title = a.title; g.imgsrc = a.imgsrc; if (!e) g.alt = a.alt; if (!e) g.imgsrc = a.src; g.className = a.className; g.style.cssText = a.style.cssText; g.name = a.name; g.tabIndex = a.tabIndex; g.id = a.id; if (a.parentNode && a.parentNode.replaceChild) { a.parentNode.replaceChild(g, a) } } d.resultCanvas = g; return g } return a }, prepareData: function (a, b) { var c = a.canvas.getContext("2d"); var d = a.options.rect; var e = c.getImageData(d.left, d.top, d.width, d.height); var f = e.data; if (!b) a.canvasData = e; return f }, process: function (a, b, c, d) { if (a.tagName.toLowerCase() == "img") { var e = new Image; e.src = a.src; if (e.complete) { var f = Pixastic.applyAction(a, e, b, c); if (d) d(f); return f } else { e.onload = function () { var f = Pixastic.applyAction(a, e, b, c); if (d) d(f) } } } if (a.tagName.toLowerCase() == "canvas") { var f = Pixastic.applyAction(a, a, b, c); if (d) d(f); return f } }, revert: function (a) { if (Pixastic.Client.hasCanvas()) { if (a.tagName.toLowerCase() == "canvas" && a.__pixastic_org_image) { a.width = a.__pixastic_org_width; a.height = a.__pixastic_org_height; a.getContext("2d").drawImage(a.__pixastic_org_image, 0, 0); if (a.parentNode && a.parentNode.replaceChild) { a.parentNode.replaceChild(a.__pixastic_org_image, a) } return a } } else if (Pixastic.Client.isIE()) { if (typeof a.__pixastic_org_style != "undefined") a.style.cssText = a.__pixastic_org_style } }, Client: { hasCanvas: g, hasCanvasImageData: h, hasGlobalAlpha: k, isIE: function () { return !!document.all && !!window.attachEvent && !window.opera } }, Actions: {}} } (); if (typeof jQuery != "undefined" && jQuery && jQuery.fn) { jQuery.fn.pixastic = function (a, b) { var c = []; this.each(function () { if (this.tagName.toLowerCase() == "img" && !this.complete) { return } var d = Pixastic.process(this, a, b); if (d) { c.push(d) } }); if (c.length > 0) return jQuery(c); else return this } } Pixastic.Actions.desaturate = { process: function (a) { var b = !!(a.options.average && a.options.average != "false"); if (Pixastic.Client.hasCanvasImageData()) { var c = Pixastic.prepareData(a); var d = a.options.rect; var e = d.width; var f = d.height; var g = e * f; var h = g * 4, i, j; if (b) { while (g--) c[h -= 4] = c[i = h + 1] = c[j = h + 2] = (c[h] + c[i] + c[j]) / 3 } else { while (g--) c[h -= 4] = c[i = h + 1] = c[j = h + 2] = c[h] * .3 + c[i] * .59 + c[j] * .11 } return true } else if (Pixastic.Client.isIE()) { a.image.style.filter += " gray"; return true } }, checkSupport: function () { return Pixastic.Client.hasCanvasImageData() || Pixastic.Client.isIE() } };


/**
* Mousewheel - Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
* Licensed under the MIT License (LICENSE.txt).
* Version: 3.0.6
* Requires: 1.2.2+
*/
(function (a) { function d(b) { var c = b || window.event, d = [].slice.call(arguments, 1), e = 0, f = !0, g = 0, h = 0; return b = a.event.fix(c), b.type = "mousewheel", c.wheelDelta && (e = c.wheelDelta / 120), c.detail && (e = -c.detail / 3), h = e, c.axis !== undefined && c.axis === c.HORIZONTAL_AXIS && (h = 0, g = -1 * e), c.wheelDeltaY !== undefined && (h = c.wheelDeltaY / 120), c.wheelDeltaX !== undefined && (g = -1 * c.wheelDeltaX / 120), d.unshift(b, e, g, h), (a.event.dispatch || a.event.handle).apply(this, d) } var b = ["DOMMouseScroll", "mousewheel"]; if (a.event.fixHooks) for (var c = b.length; c; ) a.event.fixHooks[b[--c]] = a.event.mouseHooks; a.event.special.mousewheel = { setup: function () { if (this.addEventListener) for (var a = b.length; a; ) this.addEventListener(b[--a], d, !1); else this.onmousewheel = d }, teardown: function () { if (this.removeEventListener) for (var a = b.length; a; ) this.removeEventListener(b[--a], d, !1); else this.onmousewheel = null } }, a.fn.extend({ mousewheel: function (a) { return a ? this.bind("mousewheel", a) : this.trigger("mousewheel") }, unmousewheel: function (a) { return this.unbind("mousewheel", a) } }) })(jQuery);


/**
* malihu jquery custom scrollbars plugin
* version: 2.3.1 
* author: malihu (http://manos.malihu.gr) 
* plugin home: http://manos.malihu.gr/jquery-custom-content-scroller 
*/
(function (b) { var a = { init: function (c) { var e = { set_width: false, set_height: false, horizontalScroll: false, scrollInertia: 550, scrollEasing: "easeOutCirc", mouseWheel: "pixels", mouseWheelPixels: 60, autoDraggerLength: true, scrollButtons: { enable: false, scrollType: "continuous", scrollSpeed: 20, scrollAmount: 40 }, advanced: { updateOnBrowserResize: true, updateOnContentResize: false, autoExpandHorizontalScroll: false, autoScrollOnFocus: true }, callbacks: { onScrollStart: function () { }, onScroll: function () { }, onTotalScroll: function () { }, onTotalScrollBack: function () { }, onTotalScrollOffset: 0, whileScrolling: false, whileScrollingInterval: 30} }, c = b.extend(true, e, c); b(document).data("mCS-is-touch-device", false); if (d()) { b(document).data("mCS-is-touch-device", true) } function d() { return !!("ontouchstart" in window) ? 1 : 0 } return this.each(function () { var k = b(this); if (c.set_width) { k.css("width", c.set_width) } if (c.set_height) { k.css("height", c.set_height) } if (!b(document).data("mCustomScrollbar-index")) { b(document).data("mCustomScrollbar-index", "1") } else { var p = parseInt(b(document).data("mCustomScrollbar-index")); b(document).data("mCustomScrollbar-index", p + 1) } k.wrapInner("<div class='mCustomScrollBox' id='mCSB_" + b(document).data("mCustomScrollbar-index") + "' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_" + b(document).data("mCustomScrollbar-index")); var f = k.children(".mCustomScrollBox"); if (c.horizontalScroll) { f.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />"); var i = f.children(".mCSB_h_wrapper"); i.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({ width: i.children().outerWidth(), position: "relative" }).unwrap() } else { f.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />") } var m = f.children(".mCSB_container"); if (b(document).data("mCS-is-touch-device")) { m.addClass("mCS_touch") } m.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer' style='position:relative;'><div class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>"); var j = f.children(".mCSB_scrollTools"), g = j.children(".mCSB_draggerContainer"), o = g.children(".mCSB_dragger"); if (c.horizontalScroll) { o.data("minDraggerWidth", o.width()) } else { o.data("minDraggerHeight", o.height()) } if (c.scrollButtons.enable) { if (c.horizontalScroll) { j.prepend("<a class='mCSB_buttonLeft' style='display:block; position:relative;'></a>").append("<a class='mCSB_buttonRight' style='display:block; position:relative;'></a>") } else { j.prepend("<a class='mCSB_buttonUp' style='display:block; position:relative;'></a>").append("<a class='mCSB_buttonDown' style='display:block; position:relative;'></a>") } } f.bind("scroll", function () { if (!k.is(".mCS_disabled")) { f.scrollTop(0).scrollLeft(0) } }); k.data({ mCS_Init: true, horizontalScroll: c.horizontalScroll, scrollInertia: c.scrollInertia, scrollEasing: c.scrollEasing, mouseWheel: c.mouseWheel, mouseWheelPixels: c.mouseWheelPixels, autoDraggerLength: c.autoDraggerLength, scrollButtons_enable: c.scrollButtons.enable, scrollButtons_scrollType: c.scrollButtons.scrollType, scrollButtons_scrollSpeed: c.scrollButtons.scrollSpeed, scrollButtons_scrollAmount: c.scrollButtons.scrollAmount, autoExpandHorizontalScroll: c.advanced.autoExpandHorizontalScroll, autoScrollOnFocus: c.advanced.autoScrollOnFocus, onScrollStart_Callback: c.callbacks.onScrollStart, onScroll_Callback: c.callbacks.onScroll, onTotalScroll_Callback: c.callbacks.onTotalScroll, onTotalScrollBack_Callback: c.callbacks.onTotalScrollBack, onTotalScroll_Offset: c.callbacks.onTotalScrollOffset, whileScrolling_Callback: c.callbacks.whileScrolling, whileScrolling_Interval: c.callbacks.whileScrollingInterval, bindEvent_scrollbar_click: false, bindEvent_mousewheel: false, bindEvent_focusin: false, bindEvent_buttonsContinuous_y: false, bindEvent_buttonsContinuous_x: false, bindEvent_buttonsPixels_y: false, bindEvent_buttonsPixels_x: false, bindEvent_scrollbar_touch: false, bindEvent_content_touch: false, mCSB_buttonScrollRight: false, mCSB_buttonScrollLeft: false, mCSB_buttonScrollDown: false, mCSB_buttonScrollUp: false, whileScrolling: false }).mCustomScrollbar("update"); if (c.horizontalScroll) { if (k.css("max-width") !== "none") { if (!c.advanced.updateOnContentResize) { c.advanced.updateOnContentResize = true } k.data({ mCS_maxWidth: parseInt(k.css("max-width")), mCS_maxWidth_Interval: setInterval(function () { if (parseInt(k.css("width")) > k.data("mCS_maxWidth")) { clearInterval(k.data("mCS_maxWidth_Interval")); k.mCustomScrollbar("update") } }, 150) }) } } else { if (k.css("max-height") !== "none") { k.data({ mCS_maxHeight: parseInt(k.css("max-height")), mCS_maxHeight_Interval: setInterval(function () { f.css("max-height", k.data("mCS_maxHeight")); if (parseInt(k.css("height")) > k.data("mCS_maxHeight")) { clearInterval(k.data("mCS_maxHeight_Interval")); k.mCustomScrollbar("update") } }, 150) }) } } if (c.advanced.updateOnBrowserResize) { var h; b(window).resize(function () { if (h) { clearTimeout(h) } h = setTimeout(function () { if (!k.is(".mCS_disabled") && !k.is(".mCS_destroyed")) { k.mCustomScrollbar("update") } }, 150) }) } if (c.advanced.updateOnContentResize) { var n; if (c.horizontalScroll) { var l = m.outerWidth() } else { var l = m.outerHeight() } n = setInterval(function () { if (c.horizontalScroll) { if (c.advanced.autoExpandHorizontalScroll) { m.css({ position: "absolute", width: "auto" }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({ width: m.outerWidth(), position: "relative" }).unwrap() } var q = m.outerWidth() } else { var q = m.outerHeight() } if (q != l) { k.mCustomScrollbar("update"); l = q } }, 300) } }) }, update: function () { var l = b(this), i = l.children(".mCustomScrollBox"), o = i.children(".mCSB_container"); o.removeClass("mCS_no_scrollbar"); l.removeClass("mCS_disabled mCS_destroyed"); i.scrollTop(0).scrollLeft(0); var w = i.children(".mCSB_scrollTools"), m = w.children(".mCSB_draggerContainer"), k = m.children(".mCSB_dragger"); if (l.data("horizontalScroll")) { var y = w.children(".mCSB_buttonLeft"), r = w.children(".mCSB_buttonRight"), d = i.width(); if (l.data("autoExpandHorizontalScroll")) { o.css({ position: "absolute", width: "auto" }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({ width: o.outerWidth(), position: "relative" }).unwrap() } var x = o.outerWidth() } else { var u = w.children(".mCSB_buttonUp"), e = w.children(".mCSB_buttonDown"), p = i.height(), g = o.outerHeight() } if (g > p && !l.data("horizontalScroll")) { w.css("display", "block"); var q = m.height(); if (l.data("autoDraggerLength")) { var s = Math.round(p / g * q), j = k.data("minDraggerHeight"); if (s <= j) { k.css({ height: j }) } else { if (s >= q - 10) { var n = q - 10; k.css({ height: n }) } else { k.css({ height: s }) } } k.children(".mCSB_dragger_bar").css({ "line-height": k.height() + "px" }) } var z = k.height(), v = (g - p) / (q - z); l.data("scrollAmount", v).mCustomScrollbar("scrolling", i, o, m, k, u, e, y, r); var B = Math.abs(Math.round(o.position().top)); l.mCustomScrollbar("scrollTo", B, { callback: false }) } else { if (x > d && l.data("horizontalScroll")) { w.css("display", "block"); var f = m.width(); if (l.data("autoDraggerLength")) { var h = Math.round(d / x * f), A = k.data("minDraggerWidth"); if (h <= A) { k.css({ width: A }) } else { if (h >= f - 10) { var c = f - 10; k.css({ width: c }) } else { k.css({ width: h }) } } } var t = k.width(), v = (x - d) / (f - t); l.data("scrollAmount", v).mCustomScrollbar("scrolling", i, o, m, k, u, e, y, r); var B = Math.abs(Math.round(o.position().left)); l.mCustomScrollbar("scrollTo", B, { callback: false }) } else { i.unbind("mousewheel focusin"); if (l.data("horizontalScroll")) { k.add(o).css("left", 0) } else { k.add(o).css("top", 0) } w.css("display", "none"); o.addClass("mCS_no_scrollbar"); l.data({ bindEvent_mousewheel: false, bindEvent_focusin: false }) } } }, scrolling: function (f, p, m, h, w, c, z, u) { var l = b(this); l.mCustomScrollbar("callbacks", "whileScrolling"); if (!h.hasClass("ui-draggable")) { if (l.data("horizontalScroll")) { var g = "x" } else { var g = "y" } h.draggable({ axis: g, containment: "parent", drag: function (x, y) { l.mCustomScrollbar("scroll"); h.addClass("mCSB_dragger_onDrag") }, stop: function (x, y) { h.removeClass("mCSB_dragger_onDrag") } }) } if (!l.data("bindEvent_scrollbar_click")) { m.bind("click", function (E) { if (l.data("horizontalScroll")) { var x = (E.pageX - m.offset().left); if (x < h.position().left || x > (h.position().left + h.width())) { var y = x; if (y >= m.width() - h.width()) { y = m.width() - h.width() } h.css("left", y); l.mCustomScrollbar("scroll") } } else { var x = (E.pageY - m.offset().top); if (x < h.position().top || x > (h.position().top + h.height())) { var y = x; if (y >= m.height() - h.height()) { y = m.height() - h.height() } h.css("top", y); l.mCustomScrollbar("scroll") } } }); l.data({ bindEvent_scrollbar_click: true }) } if (l.data("mouseWheel")) { var v = l.data("mouseWheel"); if (l.data("mouseWheel") === "auto") { v = 8; var o = navigator.userAgent; if (o.indexOf("Mac") != -1 && o.indexOf("Safari") != -1 && o.indexOf("AppleWebKit") != -1 && o.indexOf("Chrome") == -1) { v = 1 } } if (!l.data("bindEvent_mousewheel")) { f.bind("mousewheel", function (F, L) { F.preventDefault(); var K = Math.abs(L * v); if (l.data("horizontalScroll")) { if (l.data("mouseWheel") === "pixels") { if (L < 0) { L = -1 } else { L = 1 } var I = Math.abs(Math.round(p.position().left)) - (L * l.data("mouseWheelPixels")); l.mCustomScrollbar("scrollTo", I) } else { var E = h.position().left - (L * K); h.css("left", E); if (h.position().left < 0) { h.css("left", 0) } var J = m.width(), H = h.width(); if (h.position().left > J - H) { h.css("left", J - H) } l.mCustomScrollbar("scroll") } } else { if (l.data("mouseWheel") === "pixels") { if (L < 0) { L = -1 } else { L = 1 } var I = Math.abs(Math.round(p.position().top)) - (L * l.data("mouseWheelPixels")); l.mCustomScrollbar("scrollTo", I) } else { var x = h.position().top - (L * K); h.css("top", x); if (h.position().top < 0) { h.css("top", 0) } var G = m.height(), y = h.height(); if (h.position().top > G - y) { h.css("top", G - y) } l.mCustomScrollbar("scroll") } } }); l.data({ bindEvent_mousewheel: true }) } } if (l.data("scrollButtons_enable")) { if (l.data("scrollButtons_scrollType") === "pixels") { var C; if (b.browser.msie && parseInt(b.browser.version) < 9) { l.data("scrollInertia", 0) } if (l.data("horizontalScroll")) { u.add(z).unbind("mousedown touchstart onmsgesturestart mouseup mouseout touchend onmsgestureend", i, e); l.data({ bindEvent_buttonsContinuous_x: false }); if (!l.data("bindEvent_buttonsPixels_x")) { u.bind("click", function (x) { x.preventDefault(); if (!p.is(":animated")) { C = Math.abs(p.position().left) + l.data("scrollButtons_scrollAmount"); l.mCustomScrollbar("scrollTo", C) } }); z.bind("click", function (x) { x.preventDefault(); if (!p.is(":animated")) { C = Math.abs(p.position().left) - l.data("scrollButtons_scrollAmount"); if (p.position().left >= -l.data("scrollButtons_scrollAmount")) { C = "left" } l.mCustomScrollbar("scrollTo", C) } }); l.data({ bindEvent_buttonsPixels_x: true }) } } else { c.add(w).unbind("mousedown touchstart onmsgesturestart mouseup mouseout touchend onmsgestureend", i, e); l.data({ bindEvent_buttonsContinuous_y: false }); if (!l.data("bindEvent_buttonsPixels_y")) { c.bind("click", function (x) { x.preventDefault(); if (!p.is(":animated")) { C = Math.abs(p.position().top) + l.data("scrollButtons_scrollAmount"); l.mCustomScrollbar("scrollTo", C) } }); w.bind("click", function (x) { x.preventDefault(); if (!p.is(":animated")) { C = Math.abs(p.position().top) - l.data("scrollButtons_scrollAmount"); if (p.position().top >= -l.data("scrollButtons_scrollAmount")) { C = "top" } l.mCustomScrollbar("scrollTo", C) } }); l.data({ bindEvent_buttonsPixels_y: true }) } } } else { if (l.data("horizontalScroll")) { u.add(z).unbind("click"); l.data({ bindEvent_buttonsPixels_x: false }); if (!l.data("bindEvent_buttonsContinuous_x")) { u.bind("mousedown touchstart onmsgesturestart", function (x) { x.preventDefault(); x.stopPropagation(); l.data({ mCSB_buttonScrollRight: setInterval(function () { var y = Math.round((Math.abs(Math.round(p.position().left)) + l.data("scrollButtons_scrollSpeed")) / l.data("scrollAmount")); l.mCustomScrollbar("scrollTo", y, { moveDragger: true }) }, 30) }) }); var i = function (x) { x.preventDefault(); x.stopPropagation(); clearInterval(l.data("mCSB_buttonScrollRight")) }; u.bind("mouseup touchend onmsgestureend mouseout", i); z.bind("mousedown touchstart onmsgesturestart", function (x) { x.preventDefault(); x.stopPropagation(); l.data({ mCSB_buttonScrollLeft: setInterval(function () { var y = Math.round((Math.abs(Math.round(p.position().left)) - l.data("scrollButtons_scrollSpeed")) / l.data("scrollAmount")); l.mCustomScrollbar("scrollTo", y, { moveDragger: true }) }, 30) }) }); var e = function (x) { x.preventDefault(); x.stopPropagation(); clearInterval(l.data("mCSB_buttonScrollLeft")) }; z.bind("mouseup touchend onmsgestureend mouseout", e); l.data({ bindEvent_buttonsContinuous_x: true }) } } else { c.add(w).unbind("click"); l.data({ bindEvent_buttonsPixels_y: false }); if (!l.data("bindEvent_buttonsContinuous_y")) { c.bind("mousedown touchstart onmsgesturestart", function (x) { x.preventDefault(); x.stopPropagation(); l.data({ mCSB_buttonScrollDown: setInterval(function () { var y = Math.round((Math.abs(Math.round(p.position().top)) + l.data("scrollButtons_scrollSpeed")) / l.data("scrollAmount")); l.mCustomScrollbar("scrollTo", y, { moveDragger: true }) }, 30) }) }); var t = function (x) { x.preventDefault(); x.stopPropagation(); clearInterval(l.data("mCSB_buttonScrollDown")) }; c.bind("mouseup touchend onmsgestureend mouseout", t); w.bind("mousedown touchstart onmsgesturestart", function (x) { x.preventDefault(); x.stopPropagation(); l.data({ mCSB_buttonScrollUp: setInterval(function () { var y = Math.round((Math.abs(Math.round(p.position().top)) - l.data("scrollButtons_scrollSpeed")) / l.data("scrollAmount")); l.mCustomScrollbar("scrollTo", y, { moveDragger: true }) }, 30) }) }); var d = function (x) { x.preventDefault(); x.stopPropagation(); clearInterval(l.data("mCSB_buttonScrollUp")) }; w.bind("mouseup touchend onmsgestureend mouseout", d); l.data({ bindEvent_buttonsContinuous_y: true }) } } } } if (l.data("autoScrollOnFocus")) { if (!l.data("bindEvent_focusin")) { f.bind("focusin", function () { f.scrollTop(0).scrollLeft(0); var y = b(document.activeElement); if (y.is("input,textarea,select,button,a[tabindex],area,object")) { if (l.data("horizontalScroll")) { var K = p.position().left, H = y.position().left, F = f.width(), I = y.outerWidth(); if (K + H >= 0 && K + H <= F - I) { } else { var L = H / l.data("scrollAmount"); if (L >= m.width() - h.width()) { L = m.width() - h.width() } h.css("left", L); l.mCustomScrollbar("scroll") } } else { var J = p.position().top, G = y.position().top, x = f.height(), E = y.outerHeight(); if (J + G >= 0 && J + G <= x - E) { } else { var L = G / l.data("scrollAmount"); if (L >= m.height() - h.height()) { L = m.height() - h.height() } h.css("top", L); l.mCustomScrollbar("scroll") } } } }); l.data({ bindEvent_focusin: true }) } } if (b(document).data("mCS-is-touch-device")) { if (!l.data("bindEvent_scrollbar_touch")) { var k, n; h.bind("touchstart onmsgesturestart", function (G) { G.preventDefault(); G.stopPropagation(); var J = G.originalEvent.touches[0] || G.originalEvent.changedTouches[0], F = b(this), I = F.offset(), E = J.pageX - I.left, H = J.pageY - I.top; if (E < F.width() && E > 0 && H < F.height() && H > 0) { k = H; n = E } }); h.bind("touchmove onmsgesturechange", function (G) { G.preventDefault(); G.stopPropagation(); var J = G.originalEvent.touches[0] || G.originalEvent.changedTouches[0], F = b(this), I = F.offset(), E = J.pageX - I.left, H = J.pageY - I.top; if (l.data("horizontalScroll")) { l.mCustomScrollbar("scrollTo", (h.position().left - (n)) + E, { moveDragger: true }) } else { l.mCustomScrollbar("scrollTo", (h.position().top - (k)) + H, { moveDragger: true }) } }); l.data({ bindEvent_scrollbar_touch: true }) } if (!l.data("bindEvent_content_touch")) { var j, A, q, s, r, B, D; p.bind("touchstart onmsgesturestart", function (x) { j = x.originalEvent.touches[0] || x.originalEvent.changedTouches[0]; A = b(this); q = A.offset(); s = j.pageX - q.left; r = j.pageY - q.top; B = r; D = s }); p.bind("touchmove onmsgesturechange", function (x) { x.preventDefault(); x.stopPropagation(); j = x.originalEvent.touches[0] || x.originalEvent.changedTouches[0]; A = b(this).parent(); q = A.offset(); s = j.pageX - q.left; r = j.pageY - q.top; if (l.data("horizontalScroll")) { l.mCustomScrollbar("scrollTo", D - s) } else { l.mCustomScrollbar("scrollTo", B - r) } }); l.data({ bindEvent_content_touch: true }) } } }, scroll: function (i) { var k = b(this), p = k.find(".mCSB_dragger"), n = k.find(".mCSB_container"), e = k.find(".mCustomScrollBox"); if (k.data("horizontalScroll")) { var g = p.position().left, m = -g * k.data("scrollAmount"), o = n.position().left, d = Math.round(o - m) } else { var f = p.position().top, j = -f * k.data("scrollAmount"), l = n.position().top, c = Math.round(l - j) } if (b.browser.webkit) { var q = (window.outerWidth - 8) / window.innerWidth, h = (q < 0.98 || q > 1.02) } if (k.data("scrollInertia") === 0 || h) { if (!i) { k.mCustomScrollbar("callbacks", "onScrollStart") } if (k.data("horizontalScroll")) { n.css("left", m) } else { n.css("top", j) } if (!i) { if (k.data("whileScrolling")) { k.data("whileScrolling_Callback").call() } k.mCustomScrollbar("callbacks", "onScroll") } k.data({ mCS_Init: false }) } else { if (!i) { k.mCustomScrollbar("callbacks", "onScrollStart") } if (k.data("horizontalScroll")) { n.stop().animate({ left: "-=" + d }, k.data("scrollInertia"), k.data("scrollEasing"), function () { if (!i) { k.mCustomScrollbar("callbacks", "onScroll") } k.data({ mCS_Init: false }) }) } else { n.stop().animate({ top: "-=" + c }, k.data("scrollInertia"), k.data("scrollEasing"), function () { if (!i) { k.mCustomScrollbar("callbacks", "onScroll") } k.data({ mCS_Init: false }) }) } } }, scrollTo: function (g, m) { var f = { moveDragger: false, callback: true }, m = b.extend(f, m), i = b(this), c, d = i.find(".mCustomScrollBox"), j = d.children(".mCSB_container"), e = i.find(".mCSB_draggerContainer"), k = e.children(".mCSB_dragger"), l; if (g || g === 0) { if (typeof (g) === "number") { if (m.moveDragger) { c = g } else { l = g; c = Math.round(l / i.data("scrollAmount")) } } else { if (typeof (g) === "string") { var h; if (g === "top") { h = 0 } else { if (g === "bottom" && !i.data("horizontalScroll")) { h = j.outerHeight() - d.height() } else { if (g === "left") { h = 0 } else { if (g === "right" && i.data("horizontalScroll")) { h = j.outerWidth() - d.width() } else { if (g === "first") { h = i.find(".mCSB_container").find(":first") } else { if (g === "last") { h = i.find(".mCSB_container").find(":last") } else { h = i.find(g) } } } } } } if (h.length === 1) { if (i.data("horizontalScroll")) { l = h.position().left } else { l = h.position().top } c = Math.ceil(l / i.data("scrollAmount")) } else { c = h } } } if (c < 0) { c = 0 } if (i.data("horizontalScroll")) { if (c >= e.width() - k.width()) { c = e.width() - k.width() } k.css("left", c) } else { if (c >= e.height() - k.height()) { c = e.height() - k.height() } k.css("top", c) } if (m.callback) { i.mCustomScrollbar("scroll", false) } else { i.mCustomScrollbar("scroll", true) } } }, callbacks: function (h) { var g = b(this), c = g.find(".mCustomScrollBox"), f = g.find(".mCSB_container"); switch (h) { case "onScrollStart": if (!f.is(":animated")) { g.data("onScrollStart_Callback").call() } break; case "onScroll": if (g.data("horizontalScroll")) { var e = Math.round(f.position().left); if (e < 0 && e <= c.width() - f.outerWidth() + g.data("onTotalScroll_Offset")) { g.data("onTotalScroll_Callback").call() } else { if (e >= -g.data("onTotalScroll_Offset")) { g.data("onTotalScrollBack_Callback").call() } else { g.data("onScroll_Callback").call() } } } else { var d = Math.round(f.position().top); if (d < 0 && d <= c.height() - f.outerHeight() + g.data("onTotalScroll_Offset")) { g.data("onTotalScroll_Callback").call() } else { if (d >= -g.data("onTotalScroll_Offset")) { g.data("onTotalScrollBack_Callback").call() } else { g.data("onScroll_Callback").call() } } } break; case "whileScrolling": if (g.data("whileScrolling_Callback") && !g.data("whileScrolling")) { g.data({ whileScrolling: setInterval(function () { if (f.is(":animated") && !g.data("mCS_Init")) { g.data("whileScrolling_Callback").call() } }, g.data("whileScrolling_Interval")) }) } break } }, disable: function (c) { var h = b(this), d = h.children(".mCustomScrollBox"), f = d.children(".mCSB_container"), e = d.children(".mCSB_scrollTools"), g = e.find(".mCSB_dragger"); d.unbind("mousewheel focusin"); if (c) { if (h.data("horizontalScroll")) { g.add(f).css("left", 0) } else { g.add(f).css("top", 0) } } e.css("display", "none"); f.addClass("mCS_no_scrollbar"); h.data({ bindEvent_mousewheel: false, bindEvent_focusin: false }).addClass("mCS_disabled") }, destroy: function () { var d = b(this), c = d.find(".mCSB_container").html(); d.find(".mCustomScrollBox").remove(); d.html(c).removeClass("mCustomScrollbar _mCS_" + b(document).data("mCustomScrollbar-index")).addClass("mCS_destroyed") } }; b.fn.mCustomScrollbar = function (c) { if (a[c]) { return a[c].apply(this, Array.prototype.slice.call(arguments, 1)) } else { if (typeof c === "object" || !c) { return a.init.apply(this, arguments) } else { b.error("Method " + c + " does not exist") } } } })(jQuery); var iOSVersion = iOSVersion(); if (iOSVersion >= 6) { (function (m) { var t = {}; var q = {}; var p = m.setTimeout; var o = m.setInterval; var l = m.clearTimeout; var r = m.clearInterval; if (!m.addEventListener) { return false } function k(d, g, b) { var e, c = b[0], a = (d === o); function f() { if (c) { c.apply(m, arguments); if (!a) { delete g[e]; c = null } } } b[0] = f; e = d.apply(m, b); g[e] = { args: b, created: Date.now(), cb: c, id: e }; return e } function s(b, d, h, a, i) { var g = h[a]; if (!g) { return } var f = (b === o); d(g.id); if (!f) { var e = g.args[1]; var c = Date.now() - g.created; if (c < 0) { c = 0 } e -= c; if (e < 0) { e = 0 } g.args[1] = e } function j() { if (g.cb) { g.cb.apply(m, arguments); if (!f) { delete h[a]; g.cb = null } } } g.args[0] = j; g.created = Date.now(); g.id = b.apply(m, g.args) } m.setTimeout = function () { return k(p, t, arguments) }; m.setInterval = function () { return k(o, q, arguments) }; m.clearTimeout = function (a) { var b = t[a]; if (b) { delete t[a]; l(b.id) } }; m.clearInterval = function (a) { var b = q[a]; if (b) { delete q[a]; r(b.id) } }; var n = m; while (n.location != n.parent.location) { n = n.parent } n.addEventListener("scroll", function () { var a; for (a in t) { s(p, l, t, a) } for (a in q) { s(o, r, q, a) } }) } (window)) } function iOSVersion() { var a = window.navigator.userAgent, b = a.indexOf("OS "); if ((a.indexOf("iPhone") > -1 || a.indexOf("iPad") > -1) && b > -1) { return window.Number(a.substr(b + 3, 3).replace("_", ".")) } return 0 };


/**
* jQuery autoGrowInput plugin by James Padolsey
* See related thread: http://stackoverflow.com/questions/931207/is-there-a-jquery-autogrow-plugin-for-text-fields
*/
(function (e) { e.fn.autoGrowInput = function (t) { t = e.extend({ maxWidth: 1e3, minWidth: 0, comfortZone: 70 }, t); this.filter("input:text").each(function () { var n = t.minWidth || e(this).width(), r = "", i = e(this), s = e("<tester/>").css({ position: "absolute", top: -9999, left: -9999, width: "auto", fontSize: i.css("fontSize"), fontFamily: i.css("fontFamily"), fontWeight: i.css("fontWeight"), letterSpacing: i.css("letterSpacing"), whiteSpace: "nowrap" }), u = function () { if (r === (r = i.val())) { return } var e = r.replace(/&/g, "&").replace(/\s/g, " ").replace(/</g, "<").replace(/>/g, ">"); s.html(e); var u = s.width(), a = u + t.comfortZone >= n ? u + t.comfortZone : n, f = i.width(), l = a < f && a >= n || a > n && a < t.maxWidth; if (l) { i.width(a) } }; s.insertAfter(i); e(this).bind("keyup keydown blur update", u) }); return this } })(jQuery);


/**
* HoverScroll jQuery Plugin
* @author RasCarlito <carl.ogren@gmail.com>
* @version 0.2.4
*/
(function (e) { e.fn.hoverscroll = function (t) { if (!t) { t = {} } t = e.extend({}, e.fn.hoverscroll.params, t); this.each(function () { function h(e, n) { e = e - s.offset().left; n = n - s.offset().top; var r; if (!t.vertical) { r = e } else { r = n } for (i in c) { if (r >= c[i].from && r < c[i].to) { if (c[i].action == "move") { d(c[i].direction, c[i].speed) } else { v() } } } } function p() { if (!t.arrows || t.fixedArrows) { return } var n; var i; if (!t.vertical) { n = r[0].scrollWidth - r.width(); i = r[0].scrollLeft } else { n = r[0].scrollHeight - r.height(); i = r[0].scrollTop } var o = t.arrowsOpacity; var u = i / n * o; if (u > o) { u = o } if (isNaN(u)) { u = 0 } var a = false; if (u <= 0) { e("div.arrow.left, div.arrow.top", s).hide(); if (n > 0) { e("div.arrow.right, div.arrow.bottom", s).show().css("opacity", o) } a = true } if (u >= o || n <= 0) { e("div.arrow.right, div.arrow.bottom", s).hide(); a = true } if (!a) { e("div.arrow.left, div.arrow.top", s).show().css("opacity", u); e("div.arrow.right, div.arrow.bottom", s).show().css("opacity", o - u) } } function d(n, r) { if (s[0].direction != n) { if (t.debug) { e.log("[HoverScroll] Starting to move. direction: " + n + ", speed: " + r) } v(); s[0].direction = n; s[0].isChanging = true; m() } if (s[0].speed != r) { if (t.debug) { e.log("[HoverScroll] Changed speed: " + r) } s[0].speed = r } } function v() { if (s[0].isChanging) { if (t.debug) { e.log("[HoverScroll] Stoped moving") } s[0].isChanging = false; s[0].direction = 0; s[0].speed = 1; clearTimeout(s[0].timer) } } function m() { if (s[0].isChanging == false) { return } p(); var e; if (!t.vertical) { e = "scrollLeft" } else { e = "scrollTop" } r[0][e] += s[0].direction * s[0].speed; s[0].timer = setTimeout(function () { m() }, 50) } var n = e(this); if (t.debug) { e.log("[HoverScroll] Trying to create hoverscroll on element " + this.tagName + "#" + this.id) } if (t.fixedArrows) { n.wrap('<div class="fixed-listcontainer"></div>') } else { n.wrap('<div class="listcontainer"></div>') } n.addClass("list"); var r = n.parent(); r.wrap('<div class="ui-widget-content hoverscroll' + (t.rtl && !t.vertical ? " rtl" : "") + '"></div>'); var s = r.parent(); var o, u, a, f; if (t.arrows) { if (!t.vertical) { if (t.fixedArrows) { o = '<div class="fixed-arrow left"></div>'; u = '<div class="fixed-arrow right"></div>'; r.before(o).after(u) } else { o = '<div class="arrow left"></div>'; u = '<div class="arrow right"></div>'; r.append(o).append(u) } } else { if (t.fixedArrows) { a = '<div class="fixed-arrow top"></div>'; f = '<div class="fixed-arrow bottom"></div>'; r.before(a).after(f) } else { a = '<div class="arrow top"></div>'; f = '<div class="arrow bottom"></div>'; r.append(a).append(f) } } } s.width(t.width).height(t.height); if (t.arrows && t.fixedArrows) { if (t.vertical) { a = r.prev(); f = r.next(); r.width(t.width).height(t.height - (a.height() + f.height())) } else { o = r.prev(); u = r.next(); r.height(t.height).width(t.width - (o.width() + u.width())) } } else { r.width(t.width).height(t.height) } var l = 0; if (!t.vertical) { s.addClass("horizontal"); n.children().each(function () { e(this).addClass("item"); if (e(this).outerWidth) { l += e(this).outerWidth(true) } else { l += e(this).width() + parseInt(e(this).css("padding-left")) + parseInt(e(this).css("padding-right")) + parseInt(e(this).css("margin-left")) + parseInt(e(this).css("margin-right")) } }); n.width(l); if (t.debug) { e.log("[HoverScroll] Computed content width : " + l + "px") } if (s.outerWidth) { l = s.outerWidth() } else { l = s.width() + parseInt(s.css("padding-left")) + parseInt(s.css("padding-right")) + parseInt(s.css("margin-left")) + parseInt(s.css("margin-right")) } if (t.debug) { e.log("[HoverScroll] Computed container width : " + l + "px") } } else { s.addClass("vertical"); n.children().each(function () { e(this).addClass("item"); if (e(this).outerHeight) { l += e(this).outerHeight(true) } else { l += e(this).height() + parseInt(e(this).css("padding-top")) + parseInt(e(this).css("padding-bottom")) + parseInt(e(this).css("margin-bottom")) + parseInt(e(this).css("margin-bottom")) } }); n.height(l); if (t.debug) { e.log("[HoverScroll] Computed content height : " + l + "px") } if (s.outerHeight) { l = s.outerHeight() } else { l = s.height() + parseInt(s.css("padding-top")) + parseInt(s.css("padding-bottom")) + parseInt(s.css("margin-top")) + parseInt(s.css("margin-bottom")) } if (t.debug) { e.log("[HoverScroll] Computed container height : " + l + "px") } } var c = { 1: { action: "move", from: 0, to: .06 * l, direction: -1, speed: 16 }, 2: { action: "move", from: .06 * l, to: .15 * l, direction: -1, speed: 8 }, 3: { action: "move", from: .15 * l, to: .25 * l, direction: -1, speed: 4 }, 4: { action: "move", from: .25 * l, to: .4 * l, direction: -1, speed: 2 }, 5: { action: "stop", from: .4 * l, to: .6 * l }, 6: { action: "move", from: .6 * l, to: .75 * l, direction: 1, speed: 2 }, 7: { action: "move", from: .75 * l, to: .85 * l, direction: 1, speed: 4 }, 8: { action: "move", from: .85 * l, to: .94 * l, direction: 1, speed: 8 }, 9: { action: "move", from: .94 * l, to: l, direction: 1, speed: 16} }; s[0].isChanging = false; s[0].direction = 0; s[0].speed = 1; if (t.rtl && !t.vertical) { r[0].scrollLeft = r[0].scrollWidth - r.width() } s.mousemove(function (e) { h(e.pageX, e.pageY) }).bind("mouseleave", function () { v() }); this.startMoving = d; this.stopMoving = v; if (t.arrows && !t.fixedArrows) { p() } else { e(".arrowleft, .arrowright, .arrowtop, .arrowbottom", s).hide() } }); return this }; if (!e.fn.offset) { e.fn.offset = function () { this.left = this.top = 0; if (this[0] && this[0].offsetParent) { var e = this[0]; do { this.left += e.offsetLeft; this.top += e.offsetTop } while (e = e.offsetParent) } return this } } e.fn.hoverscroll.params = { vertical: false, width: 400, height: 50, arrows: true, arrowsOpacity: .7, fixedArrows: false, rtl: false, debug: false }; e.log = function () { try { console.log.apply(console, arguments) } catch (e) { try { opera.postError.apply(opera, arguments) } catch (e) { } } } })(jQuery);


/**
 * BxSlider v4.1 - Fully loaded, responsive content slider
 * http://bxslider.com
 * Copyright 2012, Steven Wanderski - http://stevenwanderski.com - http://bxcreative.com
 * Written while drinking Belgian ales and listening to jazz
 * Released under the WTFPL license - http://sam.zoy.org/wtfpl/
 */
(function(e){var t={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};e.fn.bxSlider=function(s){if(0!=this.length){if(this.length>1)return this.each(function(){e(this).bxSlider(s)}),this;var o={},r=this;t.el=this;var a=e(window).width(),l=e(window).height(),d=function(){o.settings=e.extend({},n,s),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return o.cssPrefix=t[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),c()},c=function(){if(r.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),o.viewport=r.parent(),o.loader=e('<div class="bx-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?215*o.children.length+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing"),v(),o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:u()}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.width(p()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:50,display:"block"})),o.controls.el=e('<div class="bx-controls" />'),o.settings.captions&&E(),o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var t="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,t).clone().addClass("bx-clone"),n=o.children.slice(-t).clone().addClass("bx-clone");r.append(i).prepend(n)}o.active.last=o.settings.startSlide==f()-1,o.settings.video&&r.fitVids();var s=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(s=r.children()),o.settings.ticker||(o.settings.pager&&w(),o.settings.controls&&T(),o.settings.auto&&o.settings.autoControls&&C(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),s.imagesLoaded(g)},g=function(){o.loader.remove(),m(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(h()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,e(window).bind("resize",X),o.settings.auto&&o.settings.autoStart&&L(),o.settings.ticker&&W(),o.settings.pager&&M(o.settings.startSlide),o.settings.controls&&D(),o.settings.touchEnabled&&!o.settings.ticker&&O()},h=function(){var t=0,n=e();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var s=1==o.settings.moveSlides?o.active.index:o.active.index*x();for(n=o.children.eq(s),i=1;o.settings.maxSlides-1>=i;i++)n=s+i>=o.children.length?n.add(o.children.eq(i-1)):n.add(o.children.eq(s+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"==o.settings.mode?(n.each(function(){t+=e(this).outerHeight()}),o.settings.slideMargin>0&&(t+=o.settings.slideMargin*(o.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),t},u=function(){var e="100%";return o.settings.slideWidth>0&&(e="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),e},p=function(){var e=o.settings.slideWidth,t=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>t&&!o.carousel||"vertical"==o.settings.mode?e=t:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(t>o.maxThreshold||o.minThreshold>t&&(e=(t-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),e},v=function(){var e=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)e=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)e=o.settings.maxSlides;else{var t=o.children.first().width();e=Math.floor(o.viewport.width()/t)}else"vertical"==o.settings.mode&&(e=o.settings.minSlides);return e},f=function(){var e=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)e=o.children.length/x();else for(var t=0,i=0;o.children.length>t;)++e,t=i+v(),i+=o.settings.moveSlides<=v()?o.settings.moveSlides:v();else e=Math.ceil(o.children.length/v());return e},x=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=v()?o.settings.moveSlides:v()},m=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var e=o.children.last(),t=e.position();S(-(t.left-(o.viewport.width()-e.width())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,t=o.children.eq(i).position();S(-t.top,"reset",0)}}else{var t=o.children.eq(o.active.index*x()).position();o.active.index==f()-1&&(o.active.last=!0),void 0!=t&&("horizontal"==o.settings.mode?S(-t.left,"reset",0):"vertical"==o.settings.mode&&S(-t.top,"reset",0))}},S=function(e,t,i,n){if(o.usingCSS){var s="vertical"==o.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==t?(r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),I()})):"reset"==t?r.css(o.animProp,s):"ticker"==t&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),S(n.resetValue,"reset",0),H()}))}else{var a={};a[o.animProp]=e,"slide"==t?r.animate(a,i,o.settings.easing,function(){I()}):"reset"==t?r.css(o.animProp,e):"ticker"==t&&r.animate(a,speed,"linear",function(){S(n.resetValue,"reset",0),H()})}},b=function(){var t="";pagerQty=f();for(var i=0;pagerQty>i;i++){var n="";o.settings.buildPager&&e.isFunction(o.settings.buildPager)?(n=o.settings.buildPager(i),o.pagerEl.addClass("bx-custom-pager")):(n=i+1,o.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+n+"</a></div>"}o.pagerEl.html(t)},w=function(){o.settings.pagerCustom?o.pagerEl=e(o.settings.pagerCustom):(o.pagerEl=e('<div class="bx-pager" />'),o.settings.pagerSelector?e(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),b()),o.pagerEl.delegate("a","click",z)},T=function(){o.controls.next=e('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=e('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",A),o.controls.prev.bind("click",P),o.settings.nextSelector&&e(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&e(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=e('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},C=function(){o.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=e('<div class="bx-controls-auto" />'),o.controls.autoEl.delegate(".bx-start","click",y),o.controls.autoEl.delegate(".bx-stop","click",k),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?e(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),q(o.settings.autoStart?"stop":"start")},E=function(){o.children.each(function(){var t=e(this).find("img:first").attr("title");void 0!=t&&e(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},A=function(e){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),e.preventDefault()},P=function(e){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),e.preventDefault()},y=function(e){r.startAuto(),e.preventDefault()},k=function(e){r.stopAuto(),e.preventDefault()},z=function(t){o.settings.auto&&r.stopAuto();var i=e(t.currentTarget),n=parseInt(i.attr("data-slide-index"));n!=o.active.index&&r.goToSlide(n),t.preventDefault()},M=function(t){return"short"==o.settings.pagerType?(o.pagerEl.html(t+1+o.settings.pagerShortSeparator+o.children.length),void 0):(o.pagerEl.find("a").removeClass("active"),o.pagerEl.each(function(i,n){e(n).find("a").eq(t).addClass("active")}),void 0)},I=function(){if(o.settings.infiniteLoop){var e="";0==o.active.index?e=o.children.eq(0).position():o.active.index==f()-1&&o.carousel?e=o.children.eq((f()-1)*x()).position():o.active.index==o.children.length-1&&(e=o.children.eq(o.children.length-1).position()),"horizontal"==o.settings.mode?S(-e.left,"reset",0):"vertical"==o.settings.mode&&S(-e.top,"reset",0)}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},q=function(e){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[e]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},D=function(){!o.settings.infiniteLoop&&o.settings.hideControlOnEnd?0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==f()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")):1==f()&&(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled"))},L=function(){o.settings.autoDelay>0?setTimeout(r.startAuto,o.settings.autoDelay):r.startAuto(),o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},W=function(){var t=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("bx-clone"));else{r.prepend(o.children.clone().addClass("bx-clone"));var i=o.children.first().position();t="horizontal"==o.settings.mode?-i.left:-i.top}S(t,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var t=0;o.children.each(function(){t+="horizontal"==o.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var i=o.settings.speed/t,n="horizontal"==o.settings.mode?"left":"top",s=i*(t-Math.abs(parseInt(r.css(n))));H(s)}),H()},H=function(e){speed=e?e:o.settings.speed;var t={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?t=r.find(".bx-clone").first().position():i=o.children.first().position();var n="horizontal"==o.settings.mode?-t.left:-t.top,s="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:s};S(n,"ticker",speed,a)},O=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",N)},N=function(e){if(o.working)e.preventDefault();else{o.touch.originalPos=r.position();var t=e.originalEvent;o.touch.start.x=t.changedTouches[0].pageX,o.touch.start.y=t.changedTouches[0].pageY,o.viewport.bind("touchmove",B),o.viewport.bind("touchend",Q)}},B=function(e){var t=e.originalEvent,i=Math.abs(t.changedTouches[0].pageX-o.touch.start.x),n=Math.abs(t.changedTouches[0].pageY-o.touch.start.y);if(3*i>n&&o.settings.preventDefaultSwipeX?e.preventDefault():3*n>i&&o.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var s=0;if("horizontal"==o.settings.mode){var r=t.changedTouches[0].pageX-o.touch.start.x;s=o.touch.originalPos.left+r}else{var r=t.changedTouches[0].pageY-o.touch.start.y;s=o.touch.originalPos.top+r}S(s,"reset",0)}},Q=function(e){o.viewport.unbind("touchmove",B);var t=e.originalEvent,i=0;if(o.touch.end.x=t.changedTouches[0].pageX,o.touch.end.y=t.changedTouches[0].pageY,"fade"==o.settings.mode){var n=Math.abs(o.touch.start.x-o.touch.end.x);n>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var n=0;"horizontal"==o.settings.mode?(n=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(n=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&n>0||o.active.last&&0>n)?S(i,"reset",200):Math.abs(n)>=o.settings.swipeThreshold?(0>n?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):S(i,"reset",200)}o.viewport.unbind("touchend",Q)},X=function(){var t=e(window).width(),i=e(window).height();(a!=t||l!=i)&&(a=t,l=i,r.redrawSlider())};return r.goToSlide=function(t,i){if(!o.working&&o.active.index!=t)if(o.working=!0,o.oldIndex=o.active.index,o.active.index=0>t?f()-1:t>=f()?0:t,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=f()-1,o.settings.pager&&M(o.active.index),o.settings.controls&&D(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=h()&&o.viewport.animate({height:h()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",51).fadeIn(o.settings.speed,function(){e(this).css("zIndex",50),I()});else{o.settings.adaptiveHeight&&o.viewport.height()!=h()&&o.viewport.animate({height:h()},o.settings.adaptiveHeightSpeed);var n=0,s={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);s=a.position(),n=o.viewport.width()-a.width()}else{var l=o.children.length-o.settings.minSlides;s=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-x():(f()-1)*x()-(o.children.length-o.settings.maxSlides),a=r.children(".bx-clone").eq(d);s=a.position()}else if("next"==i&&0==o.active.index)s=r.find(".bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(t>=0){var c=t*x();s=o.children.eq(c).position()}var g="horizontal"==o.settings.mode?-(s.left-n):-s.top;S(g,"slide",o.settings.speed)}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var e=parseInt(o.active.index)+1;r.goToSlide(e,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var e=parseInt(o.active.index)-1;r.goToSlide(e,"prev")}},r.startAuto=function(e){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=e&&q("stop"))},r.stopAuto=function(e){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=e&&q("start"))},r.getCurrentSlide=function(){return o.active.index},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".bx-clone")).width(p()),o.viewport.css("height",h()),o.settings.ticker||m(),o.active.last&&(o.active.index=f()-1),o.active.index>=f()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(b(),M(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,e(".bx-clone",this).remove(),o.children.removeAttr("style"),this.removeAttr("style").unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.pagerEl.remove(),e(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),e(window).unbind("resize",X))},r.reloadSlider=function(e){void 0!=e&&(s=e),r.destroySlider(),d()},d(),this}}})(jQuery),function(e,t){var i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(n){function s(){var t=e(g),i=e(h);a&&(h.length?a.reject(d,t,i):a.resolve(d)),e.isFunction(n)&&n.call(r,d,t,i)}function o(t,n){t.src===i||-1!==e.inArray(t,c)||(c.push(t),n?h.push(t):g.push(t),e.data(t,"imagesLoaded",{isBroken:n,src:t.src}),l&&a.notifyWith(e(t),[n,d,e(g),e(h)]),d.length===c.length&&(setTimeout(s),d.unbind(".imagesLoaded")))}var r=this,a=e.isFunction(e.Deferred)?e.Deferred():0,l=e.isFunction(a.notify),d=r.find("img").add(r.filter("img")),c=[],g=[],h=[];return e.isPlainObject(n)&&e.each(n,function(e,t){"callback"===e?n=t:a&&a[e](t)}),d.length?d.bind("load.imagesLoaded error.imagesLoaded",function(e){o(e.target,"error"===e.type)}).each(function(n,s){var r=s.src,a=e.data(s,"imagesLoaded");a&&a.src===r?o(s,a.isBroken):s.complete&&s.naturalWidth!==t?o(s,0===s.naturalWidth||0===s.naturalHeight):(s.readyState||s.complete)&&(s.src=i,s.src=r)}):s(),a?a.promise(r):r}}(jQuery);